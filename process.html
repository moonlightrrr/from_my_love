<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>–ú–æ–π –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å</title>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='process.css'>
    <link rel="shortcut icon" href="ikon.png.jpg">
</head>
<body>
    <header>–í—Å–µ —á—Ç–æ —è –¥–µ–ª–∞—é:</header>

    <div class="upload-section">
        <label for="fileinput">–ù–∞–∂–º–∏ —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å:</label>
        <input type="file" id="fileInput" accept="image/*">
    </div>

    <div id="feed"></div>

    <script>
        const fileInput = document.getElementById("fileInput");
        fileInput.addEventListener('change', (event) => {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();

            reader.onload = function(e){
                const post = document.createElement('div');
                post.classList.add('post');

                post.innerHTML = `
                    <img src="${e.target.result}" alt="Uploaded image">
                    <div class="buttons">
                        <button class="like-btn"> ‚ù§Ô∏é Like (<span class="like-count">0</span>)</button>
                        <button class="comment-btn">üó®Ô∏è Comment </button>
                    </div>
                    <div class="comment-section"></div>
                `;
                feed.prepend(post);

                const likeBtn = post.querySelector('.like-btn');
                const likeCount = post.querySelector('.like-count');
                let likes = 0;

                likeBtn.addEventListener('click', () => {
                    likes++;
                    likeCount.textContent = likes;
                });

                const commentBtn = post.querySelector('.comment-btn');
                const commentSection = post.querySelector('.comment-section');

                commentBtn.addEventListener('click', () => {
                    const commentText = prompt("Napisz komentarz:");
                    if (commentText) {
                        const c = document.createElement('div');
                        c.classList.add('comment');
                        c.textContent = commentText;
                        commentSection.appendChild(c);
                    }
                });
            };
            reader.readAsDataURL(file);
        });
    </script>
</body>
</html>